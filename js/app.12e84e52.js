(function(e){function t(t){for(var o,n,s=t[0],a=t[1],c=t[2],d=0,h=[];d<s.length;d++)n=s[d],Object.prototype.hasOwnProperty.call(l,n)&&l[n]&&h.push(l[n][0]),l[n]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o]);u&&u(t);while(h.length)h.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],o=!0,s=1;s<r.length;s++){var a=r[s];0!==l[a]&&(o=!1)}o&&(i.splice(t--,1),e=n(n.s=r[0]))}return e}var o={},l={app:0},i=[];function n(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=o,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/el-table-horizontal-scroll/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],a=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=a;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var o=r("2b0e"),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",[r("router-link",{attrs:{to:"/"}},[e._v("Go to /")]),r("br"),r("router-link",{attrs:{to:"/fixed"}},[e._v("Go to Fixed Table")]),r("br"),r("router-link",{attrs:{to:"/always"}},[e._v("Go to always show bar")]),r("br"),r("router-link",{attrs:{to:"/WithCss"}},[e._v("Go to see how to change scroll style")]),r("br"),r("button",{on:{click:e.goBack}},[e._v("go back")])],1),r("div",[r("router-view")],1)])},i=[],n={name:"App",components:{},methods:{goBack:function(){this.$router.go(-1)}}},s=n,a=r("2877"),c=Object(a["a"])(s,l,i,!1,null,null,null),u=c.exports,d=r("8c4f"),h=r("5c96"),b=r.n(h),v=(r("0fae"),r("5530")),f=r("3835"),p=r("d4ec"),m=r("bee2"),y=(r("d9e2"),r("9d32")),w=1e3/60,O=function(){function e(t,r){var o=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hover";if(Object(p["a"])(this,e),!t)throw new Error("need have table element");this.targetTableWrapperEl=t,this.fullwidth=!1,this.mode=l,this.isVisible=!1,this.bottomIsVisibleObserverEl=r;var i=document.createElement("div");i.classList.add("el-scrollbar","el-table-horizontal-scrollbar"),i.style.height="12px",i.style.position="fixed",i.style.bottom=0,i.style.zIndex=3,i.style.transition="all 0.3s ease",this.dom=i,this.resetScroller();var n=document.createElement("div");n.classList.add("el-scrollbar__bar","is-horizontal"),this.bar=n,i.appendChild(n);var s=document.createElement("div");s.classList.add("el-scrollbar__thumb"),n.appendChild(s),this.thumb=s,this.bottomIsVisible=!1;var a=this;this.checkIsScrollBottom=Object(y["a"])(w,(function(){a.isVisible?a.bottomIsVisible?(a.hideScroller(),a.hideBar()):(a.resetBar(!1),a.showScroller(),"always"===a.mode&&a.showBar()):a.hideScroller()})),t.addEventListener("scroll",Object(y["a"])(w,(function(){a.resetThumbPosition()}))),this.syncDestoryHandler=this.initScrollSyncHandler(),this.tableElObserver=null,MutationObserver&&(this.tableElObserver=new MutationObserver((function(){return o.forceUpdate()})),this.tableElObserver.observe(t.querySelector(".el-table__body"),{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style"]})),this.tableResizeObserver=null,ResizeObserver&&(this.tableResizeObserver=new ResizeObserver((function(){return o.forceUpdate()})),this.tableResizeObserver.observe(t)),this.tableIntersectionObserver=null,this.bottomIsVisibleObserver=null,IntersectionObserver?(this.tableIntersectionObserver=new IntersectionObserver((function(e){var t=Object(f["a"])(e,1),r=t[0];o.isVisible=r.intersectionRatio>0,o.forceUpdate()})),this.tableIntersectionObserver.observe(t),this.bottomIsVisibleObserverEl&&(this.bottomIsVisibleObserver=new IntersectionObserver((function(e){var t=Object(f["a"])(e,1),r=t[0];o.bottomIsVisible=r.intersectionRatio>0,o.checkIsScrollBottom()})),this.bottomIsVisibleObserver.observe(this.bottomIsVisibleObserverEl))):console.info("IntersectionObserver is not support，directive maybe problem"),this.forceUpdate()}return Object(m["a"])(e,[{key:"resetBar",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.targetTableWrapperEl,r=100*t.clientWidth/t.scrollWidth,o=Math.min(r,100);this.thumb.style.width="".concat(o,"%"),this.fullwidth=o>=100,e&&(this.fullwidth?this.hideScroller():this.checkIsScrollBottom())}},{key:"resetThumbPosition",value:function(){this.thumb.style.transform="translateX(".concat(this.moveX,"%)")}},{key:"resetScroller",value:function(){var e=this.targetTableWrapperEl,t=this.dom,r=e.getBoundingClientRect();t.style.left=r.left+"px",t.style.width=r.width+"px"}},{key:"forceUpdate",value:function(){var e=this;setTimeout((function(){e.resetBar(),e.resetScroller(),e.resetThumbPosition(),e.checkIsScrollBottom()}),w)}},{key:"moveX",get:function(){var e=this.targetTableWrapperEl;return 100*e.scrollLeft/e.clientWidth}},{key:"initScrollSyncHandler",value:function(){var e=!1,t=0,r=1,o=this.thumb,l=this.targetTableWrapperEl,i=this.bar;function n(){return i.offsetWidth/o.offsetWidth}var s=Object(y["a"])(w,(function(o){if(!1!==e){var i=o.clientX,n=i-t,s=t;t=i;var a=l.scrollLeft;l.scrollLeft+=n*r,a===l.scrollLeft&&(t=s)}}));function a(){e=!1,document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",a),document.onselectstart=null}function c(t){t.stopImmediatePropagation(),e=!0,document.addEventListener("mousemove",s),document.addEventListener("mouseup",a),document.onselectstart=function(){return!1}}return o.onmousedown=function(e){if(!e.ctrlKey&&2!==e.button){var o=e.clientX;t=o,r=n(),c(e)}},i.onclick=function(e){var t=e.target;if(t===i){r=n();var s=e.clientX,a=0,c=o.getBoundingClientRect();a=c.left>=s?s-c.left:s-c.left-c.width;var u=l.scrollLeft+a*r;l.scrollTo({left:u,behavior:"smooth"})}},function(){document.removeEventListener("mouseup",a)}}},{key:"showScroller",value:function(){this.fullwidth||(this.dom.style.display="initial")}},{key:"hideScroller",value:function(){this.dom.style.display="none"}},{key:"showBar",value:function(){this.isVisible&&(this.bar.style.opacity=1)}},{key:"hideBar",value:function(){this.isVisible&&"always"===this.mode?this.bar.style.opacity=1:this.bar.style.opacity=0}},{key:"destory",value:function(){this.tableElObserver&&this.tableElObserver.disconnect(),this.tableResizeObserver&&this.tableResizeObserver.disconnect(),this.tableIntersectionObserver&&this.tableIntersectionObserver.disconnect(),this.bottomIsVisibleObserver&&this.bottomIsVisibleObserver.disconnect(),this.bottomIsVisibleObserverEl&&this.bottomIsVisibleObserverEl.parentElement&&this.bottomIsVisibleObserverEl.parentElement.removeChild(this.bottomIsVisibleObserverEl),this.syncDestoryHandler()}}]),e}(),E={inserted:function(e,t){var r=t.value,o=void 0===r?"hover":r,l=e.querySelector(".el-table__body-wrapper"),i=document.createElement("div");e.appendChild(i);var n=new O(l,i,o);e.appendChild(n.dom),e.horizontalScroll=n,"hover"===o?(e.addEventListener("mouseover",n.showBar),e.addEventListener("mouseleave",n.hideBar)):"hidden"===o?n.hideBar():n.showBar()},update:function(e,t){var r=t.value,o=void 0===r?"hover":r,l=e.horizontalScroll;e.removeEventListener("mouseover",l.showBar),e.removeEventListener("mouseleave",l.hideBar),"hover"===o?(e.addEventListener("mouseover",l.showBar),e.addEventListener("mouseleave",l.hideBar)):"hidden"===o?l.hideBar():l.showBar()},unbind:function(e){e.horizontalScroll.destory()}},g={mounted:function(e,t){var r=t.value,o=void 0===r?"hover":r,l=e.querySelector(".el-table__body-wrapper .el-scrollbar__wrap");if(l){var i=document.createElement("div");e.appendChild(i);var n=new O(l,i,o);e.appendChild(n.dom),e.horizontalScroll=n,"hover"===o?(e.addEventListener("mouseover",n.showBar.bind(n)),e.addEventListener("mouseleave",n.hideBar.bind(n))):n.showBar()}else console.info("未找到可挂载的对象")},unmounted:function(e){e.horizontalScroll&&e.horizontalScroll.destory()}},S={install:function(e){e.directive("horizontalScroll",Object(v["a"])(Object(v["a"])({},E),g))}},_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h3",[e._v("fixed")]),r("el-table",{directives:[{name:"horizontal-scroll",rawName:"v-horizontal-scroll"}],attrs:{data:e.data}},[r("el-table-column",{attrs:{fixed:"left",label:"a",prop:"a"}}),r("el-table-column",{attrs:{label:"b",prop:"b"}}),r("el-table-column",{attrs:{label:"c",prop:"c"}}),r("el-table-column",{attrs:{label:"d",prop:"d",width:"500"}})],1),r("div",{staticStyle:{height:"100vh"}})],1)},I=[],B=(r("d81d"),r("a630"),r("3ca3"),{data:Array.from(new Array(100)).map((function(e,t){return{a:t,b:t,c:t,d:t}}))}),k={data:function(){return B}},x=k,z=Object(a["a"])(x,_,I,!1,null,null,null),L=z.exports,j=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h3",[e._v("always show bar")]),r("div",{staticStyle:{height:"100vh"}}),r("el-table",{directives:[{name:"horizontal-scroll",rawName:"v-horizontal-scroll",value:"always",expression:"'always'"}],attrs:{data:e.data}},[r("el-table-column",{attrs:{fixed:"left",width:"100",label:"a",prop:"a"}}),r("el-table-column",{attrs:{label:"b",width:"100",prop:"b"}}),r("el-table-column",{attrs:{label:"c",width:"100",prop:"c"}}),r("el-table-column",{attrs:{label:"d",prop:"d",width:"500"}})],1),r("div",{staticStyle:{height:"100vh"}})],1)},V=[],T={data:function(){return B}},C=T,P=Object(a["a"])(C,j,V,!1,null,null,null),R=P.exports,W=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h3",[e._v("fixed")]),r("el-table",{directives:[{name:"horizontal-scroll",rawName:"v-horizontal-scroll"}],attrs:{data:e.data}},[r("el-table-column",{attrs:{fixed:"left",label:"a",prop:"a"}}),r("el-table-column",{attrs:{label:"b",prop:"b"}}),r("el-table-column",{attrs:{label:"c",prop:"c"}}),r("el-table-column",{attrs:{label:"d",prop:"d",width:"500"}})],1),r("div",{staticStyle:{height:"100vh"}})],1)},M=[],X={data:function(){return B}},$=X,U=(r("5952"),Object(a["a"])($,W,M,!1,null,null,null)),G=U.exports;o["default"].use(b.a),o["default"].use(d["a"]),o["default"].use(S),o["default"].config.productionTip=!1,new o["default"]({render:function(e){return e(u)},router:new d["a"]({routes:[{path:"/fixed",component:L},{path:"/always",component:R},{path:"/withCss",component:G}]})}).$mount("#app")},5952:function(e,t,r){"use strict";r("91ce")},"91ce":function(e,t,r){}});
//# sourceMappingURL=app.12e84e52.js.map